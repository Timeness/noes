<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="color-scheme" content="light dark">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui">
  <title>Homepage</title>
  <link rel="stylesheet" href="/data/user/0/mark.via.gp/files/homepage.css">
  <style>
    body {
      font-family: 'Signika', sans-serif;
      background: #f2f2f2;
      margin: 0;
      padding: 0;
      color: #333;
    }

    .frosted-glass {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      backdrop-filter: blur(8px);
      background: rgba(255, 255, 255, 0.2);
      z-index: -1;
    }

    #content {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      padding: 20px;
    }

    .search_part {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }

    .logo img {
      width: 80px;
      height: auto;
      margin-bottom: 20px;
    }

    .search_bar {
      display: flex;
      align-items: center;
      position: relative;
      width: 80%;
      max-width: 500px;
      background: #fff;
      padding: 10px 20px;
      border-radius: 30px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    .search_bar input {
      width: 100%;
      border: none;
      outline: none;
      font-size: 16px;
      padding: 5px;
      border-radius: 30px;
      background: #f8f8f8;
      transition: background 0.3s ease;
    }

    .search_bar input:focus {
      background: #e2e2e2;
    }

    .search.icon {
      background: url('search-icon.svg') no-repeat center center;
      background-size: 18px 18px;
      width: 24px;
      height: 24px;
      cursor: pointer;
    }

    .search_bar button {
      position: absolute;
      right: 10px;
      background: transparent;
      border: none;
      cursor: pointer;
      display: none;
    }

    .search_bar input:focus + button {
      display: block;
    }

    @keyframes fadeIn {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .search_part {
      animation: fadeIn 0.8s ease-out;
    }

    @media (max-width: 600px) {
      .logo img {
        width: 60px;
      }

      .search_bar {
        width: 90%;
      }
    }
  </style>
</head>
<body>
  <div class='frosted-glass' id='gesture-indicator'></div>
  <div id="content">
    <div class="search_part">
      <a class="logo" href="" onclick="javascript:window.via.cmd(257);" title="Bookmarks">
        <img class="smaller" src="file:///android_asset/logo.svg" alt="Logo" />
      </a>
      <form onsubmit="return search()" class="search_bar" title="Search">
        <button onclick="search()" id="search_submit" value="" aria-label="Search">
          <div class="search icon"></div>
        </button>
        <span>
          <input class="search" onfocus="showButton()" onblur="hideButton()" type="text" value="" autocomplete="off" id="search_input" title="Search" placeholder="Type to search...">
        </span>
      </form>
    </div>
  </div>

  <script>
    function showButton(){
      document.getElementById("search_submit").style.display = "block";
    }

    function hideButton(){
      if (document.getElementById("search_input").value === "") {
        document.getElementById("search_submit").style.display = "none";
      }
    }

    function search() {
      var a = document.getElementById("search_input");
      if (a.value !== "") {
        try {
          location.href = 'via://search?q=' + encodeURIComponent(a.value);
        } catch (b) {
          alert(b);
        }
        a.value = "";
        document.getElementById("search_submit").style.display = "none";
        document.activeElement.blur();
      }
      return false;
    }

    function fadeIn(a) {
      if (a && a.style) {
        var b = Math.max(0.05, parseFloat(a.style.opacity)), d = setInterval(function() {
          if (b >= 1) {
            clearInterval(d);
          }
          a.style.opacity = Math.min(1, b);
          b += 0.1 * b;
        }, 6);
      }
    }

    function isGestureDisabled() {
      return document.activeElement && "search_input" === document.activeElement.id || window.via && !window.via.cmd(515) ? true : 0 !== (document.documentElement.scrollTop || document.body.scrollTop);
    }

    function initGesture(f) {
      var c = document.getElementById("content"),
          d = false, h = 0, b = 0, g = 0, a = 0;
      f.addEventListener("touchstart", function(e) {
        d = isGestureDisabled();
        if (!d) {
          h = e.touches[0].screenY;
          a = b = 0;
          document.body.style.overflow = "visible";
        }
      }, false);
      f.addEventListener("touchmove", function(e) {
        if (!d) {
          g = b;
          b = e.touches[0].screenY - h;
          a = Math.min(98, Math.max(0, a + b - g));
          c.style.transform = "translateY(" + a + "px)";
          c.style.opacity = Math.max(0.1, 1 - a / 98);
          if (g !== 1 && b < 1) document.body.style.overflow = "hidden";
        }
      }, false);
      f.addEventListener("touchend", function(e) {
        if (!d) {
          if (a !== 0 && a > 88.2) {
            try {
              window.via.cmd(514);
            } catch (k) {}
            c.style.transform = "translateY(0px)";
            fadeIn(c);
          }
          document.body.style.overflow = "visible";
        }
      }, false);
    }

    initGesture(document.getElementById("gesture-indicator"));
    initGesture(document.getElementById("content"));
  </script>
  <script src="file:///android_asset/opensug2.js"></script>
  <script type="text/javascript">
    function show(str){
      var searchbox = document.getElementById("search_input");
      searchbox.value = str;
      searchbox.blur();
      search();
    }

    var params = { "radius": '24px' };
    OpenSuggestion.bind("search_input", params, show);
  </script>
</body>
</html>
